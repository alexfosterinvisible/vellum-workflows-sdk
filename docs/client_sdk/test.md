# Client SDK & API Reference

Welcome to Vellum’s Client SDK and API documentation! Here you’ll find information about the various HTTP endpoints available to you, as well as the requests and responses that they accept and return.

We’ll be exposing more and more of our APIs over time as they stabilize. If there is some action you can perform via the UI that you wish you could perform via API, please let us know and we can expose the relevant API here.

## API Stability

Some of the APIs documented within are undergoing active development. Use the Beta and GA tags to differentiate between those that are stable and those that are not. GA stands for generally available.

## Base URLs

Some endpoints are hosted separately from the main Vellum API and therefore have a different base url. If this is the case, they will say so in their description.

Unless otherwise specified, all endpoints use <https://api.vellum.ai> as their base URL.

## Official API Clients

Vellum maintains official API clients for Python, Node/Typescript, and Go. We recommend using these clients to interact with all stable endpoints. You can find them here:

• Python  
• Node/Typescript  
• Go  

Was this page helpful?  
• Yes  
• No  

---

# Generating API Keys

The Vellum API uses API keys to authenticate requests. You can view and manage your API keys in the Vellum here.

## Authentication

Authentication is performed using headers. You should include your API key as the value associated with the X_API_KEY header in your requests.

Note that all API requests must be made over HTTPS. Calls made over plain HTTP will fail. API requests without authentication will also fail.

## API Key Best Practices

The API keys you generate should be treated like passwords. Do not share your API keys in publicly accessible areas such as GitHub, client-side code, etc.

---

# Client SDK → Authentication

## Generating API Keys

The Vellum API uses API keys to authenticate requests. You can view and manage your API keys in the Vellum here.

## Authentication

Authentication is performed using headers. Include your API key as the value of X_API_KEY.

## API Key Best Practices

Do not share your API keys in publicly accessible areas. Treat them like passwords.

---

# Client SDK → Prompts

## Execute Prompt (GA)

POST  
<https://predict.vellum.ai/v1/execute-prompt>

Executes a deployed Prompt and returns the result.

### Request

This endpoint expects an object.

• inputs (list of objects, Required): A list consisting of the Prompt Deployment’s input variables and their values.  
• prompt_deployment_id (string, Optional)  
• prompt_deployment_name (string, Optional, ≥1 character)  
• release_tag (string, Optional, ≥1 character)  
• external_id (string, Optional, ≥1 character)  
• expand_meta (object, Optional)  
• raw_overrides (object, Optional)  
• expand_raw (list of strings, Optional)  
• metadata (map from strings to any, Optional)

### Response

Fulfilled: The successful response from the model containing all of the resolved values generated by the prompt.  
OR Rejected: The unsuccessful response containing an error of what went wrong.

---

## Execute Prompt as Stream (GA)

POST  
<https://predict.vellum.ai/v1/execute-prompt-stream>

Executes a deployed Prompt and streams back the results.

### Request

This endpoint expects an object.

• inputs (list of objects, Required)  
• prompt_deployment_id (string, Optional)  
• prompt_deployment_name (string, Optional, ≥1 character)  
• release_tag (string, Optional, ≥1 character)  
• external_id (string, Optional, ≥1 character)  
• expand_meta (object, Optional)  
• raw_overrides (object, Optional)  
• expand_raw (list of strings, Optional)  
• metadata (map from strings to any, Optional)

### Response

• Initiated: The initial data returned once the model response begins streaming.  
• Streaming: The data returned with each delta of the prompt execution stream.  
• Fulfilled: The final data event indicating the stream has ended and final resolved values.  
• Rejected: The final data indicating an error occurred.

Example:

```bash
curl -X POST https://predict.vellum.ai/v1/execute-prompt-stream \
     -H "X_API_KEY: <apiKey>" \
     -H "Content-Type: application/json" \
     -d '{
       "inputs": [
         {
           "type": "STRING",
           "name": "string",
           "value": "string"
         }
       ]
     }'
```

Streamed Response:

```json
{"type":"WORKFLOW","execution_id":"string","run_id":"string", ... }
{"type":"WORKFLOW","execution_id":"string","run_id":"string", ... }
```

---

## Submit Prompt Execution Actuals (GA)

POST  
<https://predict.vellum.ai/v1/submit-completion-actuals>

Used to submit feedback regarding the quality of previously generated completions.

### Request

Expects an object.

• actuals (list of objects, Required)  
• deployment_id (string, Optional)  
• deployment_name (string, Optional, ≥1 character)

---

## Retrieve Provider Payload (Beta)

POST  
<https://api.vellum.ai/v1/deployments/provider-payload>

Given a set of input variable values, compile the exact payload Vellum would send to the configured model provider for execution if the execute-prompt endpoint were invoked. Does not actually execute the prompt.

### Request

• inputs (list of objects, Required)  
• deployment_id (string, Optional)  
• deployment_name (string, Optional, ≥1 character)  
• release_tag (string, Optional, ≥1 character)  
• expand_meta (object, Optional)

### Response

• payload (map from strings to any or string)  
• meta (object, Optional)

---

## Prompt Sandboxes → Deploy Prompt Sandbox (Beta)

POST  
<https://api.vellum.ai/v1/sandboxes/:id/prompts/:prompt_variant_id/deploy>

### Path parameters

• id (string, Required) - A UUID string identifying this sandbox.  
• prompt_variant_id (string, Required) - An ID identifying the Prompt to deploy.

### Request

• prompt_deployment_id (string, Optional)  
• prompt_deployment_name (string, Optional, ≥1 character)  
• label (string, Optional, ≥1 character)  
• release_tags (list of strings, Optional)

### Response

• id (string)  
• created (datetime)  
• label (string, ≤150 characters)  
• name (string, ≤150 characters)  
• last_deployed_on (datetime)  
• input_variables (list of objects)  
• last_deployed_history_item_id (string)  
• active_model_version_ids (list of strings, Deprecated)  
• status ("ACTIVE" or "ARCHIVED")  
• environment (enum)  
• description (string, Optional)

---

## Prompt Sandboxes → Upsert Prompt Sandbox Scenario (Beta)

POST  
<https://api.vellum.ai/v1/sandboxes/:id/scenarios>

Upserts a new scenario for a sandbox, keying off of the optionally provided scenario id.

### Path parameters

• id (string, Required) - A UUID string identifying this sandbox.

### Request

• inputs (list of objects, Required)  
• label (string, Optional)  
• scenario_id (string, Optional, ≥1 character)

### Response

• inputs (list of objects)  
• id (string)  
• label (string, Optional)

---

## Prompt Sandboxes → Delete Prompt Sandbox Scenario (Beta)

DELETE  
<https://api.vellum.ai/v1/sandboxes/:id/scenarios/:scenario_id>

Deletes an existing scenario from a sandbox.

### Path parameters

• id (string, Required) - A UUID string identifying this sandbox.  
• scenario_id (string, Required) - The id identifying the scenario to delete.

Example cURL:

```bash
curl -X DELETE https://api.vellum.ai/v1/sandboxes/id/scenarios/scenario_id \
     -H "X_API_KEY: <apiKey>"
```

---

## Prompt Deployments → List Prompt Deployments (Beta)

GET  
<https://api.vellum.ai/v1/deployments>

Used to list all Prompt Deployments.

### Query parameters

• limit (integer, Optional)  
• offset (integer, Optional)  
• ordering (string, Optional)  
• status ("ACTIVE" or "ARCHIVED", Optional)

### Response

• count (integer, Optional)  
• next (string, Optional)  
• previous (string, Optional)  
• results (list of objects, Optional)

---

## Prompt Deployments → Retrieve Prompt Deployment (Beta)

GET  
<https://api.vellum.ai/v1/deployments/:id>

Used to retrieve a Prompt Deployment by ID or name.

### Path parameters

• id (string, Required) - Either the Deployment’s ID or its unique name.

### Response

• id (string)  
• created (datetime)  
• label (string, ≤150 characters)  
• name (string, ≤150 characters)  
• last_deployed_on (datetime)  
• input_variables (list of objects)  
• last_deployed_history_item_id (string)  
• active_model_version_ids (list of strings, Deprecated)  
• status ("ACTIVE" or "ARCHIVED")  
• environment (enum)  
• description (string, Optional)

---

## Prompt Deployments → Retrieve Prompt Deployment History (Beta)

GET  
<https://api.vellum.ai/v1/deployments/:id/history/:history_id_or_release_tag>

Retrieve a specific Deployment History Item by either its UUID or a Release Tag name.

### Path parameters

• history_id_or_release_tag (string, Required)  
• id (string, Required) - A UUID string identifying this deployment.

### Response

• id (string)  
• deployment_id (string)  
• timestamp (datetime)  
• label (string, ≤150 characters)  
• name (string, ≤150 characters)  
• input_variables (list of objects)  
• description (string, Optional)

---

## Prompt Deployments → Retrieve Prompt Deployment Release Tag (Beta)

GET  
<https://api.vellum.ai/v1/deployments/:id/release-tags/:name>

Retrieve a Deployment Release Tag by tag name.

### Path parameters

• id (string, Required)  
• name (string, Required)

### Response

• name (string)  
• source ("SYSTEM" or "USER")  
• history_item (object)

---

## Prompt Deployments → List Prompt Deployment Release Tags (Beta)

GET  
<https://api.vellum.ai/v1/deployments/:id/release-tags>

List Release Tags associated with the specified Prompt Deployment.

### Path parameters

• id (string, Required) - Either the Prompt Deployment’s ID or its unique name

### Query parameters

• limit (integer, Optional)  
• offset (integer, Optional)  
• ordering (string, Optional)  
• source ("SYSTEM" or "USER", Optional)

### Response

• count (integer, Optional)  
• next (string, Optional)  
• previous (string, Optional)  
• results (list of objects, Optional)

---

## Prompt Deployments → Update Prompt Deployment Release Tag (Beta)

PATCH  
<https://api.vellum.ai/v1/deployments/:id/release-tags/:name>

Updates an existing Release Tag for a specified Prompt Deployment.

### Path parameters

• id (string, Required)  
• name (string, Required)

### Request

• history_item_id (string, Optional)

### Response

• name (string)  
• source ("SYSTEM" or "USER")  
• history_item (object)

---

# Client SDK → Workflows

## Execute Workflow (GA)

POST  
<https://predict.vellum.ai/v1/execute-workflow>

Executes a deployed Workflow and returns its outputs.

### Request

• inputs (list of objects, Required)  
• expand_meta (object, Optional)  
• workflow_deployment_id (string, Optional)  
• workflow_deployment_name (string, Optional, ≥1 character)  
• release_tag (string, Optional, ≥1 character)  
• external_id (string, Optional, ≥1 character)  
• metadata (map from strings to any, Optional)

### Response

• execution_id (string)  
• data (object)  
• external_id (string, Optional)  
• run_id (string, Optional, Deprecated)

---

## Execute Workflow as Stream (GA)

POST  
<https://predict.vellum.ai/v1/execute-workflow-stream>

Executes a deployed Workflow and streams back its results.

### Request

• inputs (list of objects, Required)  
• expand_meta (object, Optional)  
• workflow_deployment_id (string, Optional)  
• workflow_deployment_name (string, Optional, ≥1 character)  
• release_tag (string, Optional, ≥1 character)  
• external_id (string, Optional, ≥1 character)  
• event_types (list of "NODE" or "WORKFLOW", Optional)  
• metadata (map from strings to any, Optional)

### Response

• WORKFLOW-level event or NODE-level event.  
• The final or intermediate states of the workflow execution.

Example cURL:

```bash
curl -X POST https://predict.vellum.ai/v1/execute-workflow-stream \
     -H "X_API_KEY: <apiKey>" \
     -H "Content-Type: application/json" \
     -d '{
       "inputs": [
         {
           "type": "STRING",
           "name": "string",
           "value": "string"
         }
       ]
     }'
```

---

## Submit Workflow Execution Actuals (GA)

POST  
<https://predict.vellum.ai/v1/submit-workflow-execution-actuals>

Used to submit feedback regarding the quality of a previous workflow execution and its outputs.

### Request

• actuals (list of objects, Required)  
• execution_id (string, Optional)  
• external_id (string, Optional, ≥1 character)

---

## Workflow Sandboxes → Deploy Workflow (Beta)

POST  
<https://api.vellum.ai/v1/workflow-sandboxes/:id/workflows/:workflow_id/deploy>

### Path parameters

• id (string, Required)  
• workflow_id (string, Required)

### Request

• workflow_deployment_id (string, Optional)  
• workflow_deployment_name (string, Optional, ≥1 character)  
• label (string, Optional, ≥1 character)  
• release_tags (list of strings, Optional)

### Response

• id (string)  
• name (string, ≤150 characters)  
• label (string, ≤150 characters)  
• created (datetime)  
• last_deployed_on (datetime)  
• last_deployed_history_item_id (string)  
• input_variables (list of objects)  
• output_variables (list of objects)  
• status ("ACTIVE" or "ARCHIVED", Optional)  
• environment (enum, Optional)  
• description (string, Optional)

---

## Workflow Deployments → List Workflow Deployments (Beta)

GET  
<https://api.vellum.ai/v1/workflow-deployments>

Used to list all Workflow Deployments.

### Query parameters

• limit (integer, Optional)  
• offset (integer, Optional)  
• ordering (string, Optional)  
• status ("ACTIVE" or "ARCHIVED", Optional)

### Response

• count (integer, Optional)  
• next (string, Optional)  
• previous (string, Optional)  
• results (list of objects, Optional)

Example cURL:

```bash
curl https://api.vellum.ai/v1/workflow-deployments \
     -H "X_API_KEY: <apiKey>"
```

Response example:

```json
{
  "count": 123,
  "next": "http://api.example.org/accounts/?offset=400&limit=100",
  "previous": "http://api.example.org/accounts/?offset=200&limit=100",
  "results": [
    {
      "id": "id",
      "name": "name",
      "label": "label",
      "created": "2024-01-15T09:30:00Z",
      "last_deployed_on": "2024-01-15T09:30:00Z",
      "input_variables": [
        {
          "id": "id",
          "key": "key",
          "type": "STRING"
        }
      ],
      "output_variables": [
        {
          "id": "id",
          "key": "key",
          "type": "STRING"
        }
      ],
      "status": "ACTIVE",
      "environment": "DEVELOPMENT",
      "description": "description"
    }
  ]
}
```

---

## Workflow Deployments → Retrieve Workflow Deployment (Beta)

GET  
<https://api.vellum.ai/v1/workflow-deployments/:id>

Used to retrieve a workflow deployment by ID or name.

### Path parameters

• id (string, Required)

### Response

• id (string)  
• name (string, ≤150 characters)  
• label (string, ≤150 characters)  
• created (datetime)  
• last_deployed_on (datetime)  
• last_deployed_history_item_id (string)  
• input_variables (list of objects)  
• output_variables (list of objects)  
• status ("ACTIVE" or "ARCHIVED", Optional)  
• environment (enum, Optional)  
• description (string, Optional)

---

## Workflow Deployments → Retrieve Workflow Deployment History (Beta)

GET  
<https://api.vellum.ai/v1/workflow-deployments/:id/history/:history_id_or_release_tag>

Retrieve a specific Workflow Deployment History Item.

### Path parameters

• history_id_or_release_tag (string, Required)  
• id (string, Required)

### Response

• id (string)  
• workflow_deployment_id (string)  
• timestamp (datetime)  
• label (string, ≤150 characters)  
• name (string, ≤150 characters)  
• input_variables (list of objects)  
• output_variables (list of objects)  
• description (string, Optional)

Example cURL:

```bash
curl https://api.vellum.ai/v1/workflow-deployments/id/history/history_id_or_release_tag \
     -H "X_API_KEY: <apiKey>"
```

---

## Workflow Deployments → Retrieve Workflow Deployment Release Tag (Beta)

GET  
<https://api.vellum.ai/v1/workflow-deployments/:id/release-tags/:name>

Retrieve a Workflow Release Tag by name.

### Path parameters

• id (string, Required)  
• name (string, Required)

### Response

• name (string)  
• source ("SYSTEM" or "USER")  
• history_item (object)

---

## Workflow Deployments → List Workflow Deployment Release Tags (Beta)

GET  
<https://api.vellum.ai/v1/workflow-deployments/:id/release-tags>

List Release Tags for the specified Workflow Deployment.

### Path parameters

• id (string, Required)

### Query parameters

• limit (integer, Optional)  
• offset (integer, Optional)  
• ordering (string, Optional)  
• source ("SYSTEM" or "USER", Optional)

### Response

• count (integer, Optional)  
• next (string, Optional)  
• previous (string, Optional)  
• results (list of objects, Optional)

---

## Workflow Deployments → Update Workflow Deployment Release Tag (Beta)

PATCH  
<https://api.vellum.ai/v1/workflow-deployments/:id/release-tags/:name>

Updates an existing Release Tag.

### Path parameters

• id (string, Required)  
• name (string, Required)

### Request

• history_item_id (string, Optional)

### Response

• name (string)  
• source ("SYSTEM" or "USER")  
• history_item (object)

---

# Client SDK → Document Indexes

## Search (GA)

POST  
<https://predict.vellum.ai/v1/search>

Perform a search against a document index.

### Request

• query (string, Required, ≥1 character)  
• index_id (string, Optional)  
• index_name (string, Optional, ≥1 character)  
• options (object, Optional)

### Response

• results (list of objects) - each result is a chunk that matches the search query.

---

## Add Document (Beta)

POST  
<https://api.vellum.ai/v1/document-indexes/:id/documents/:document_id>

Adds a previously uploaded Document to the specified Document Index.

### Path parameters

• document_id (string, Required)  
• id (string, Required)

---

## Create Document Index (Beta)

POST  
<https://api.vellum.ai/v1/document-indexes>

Creates a new document index.

### Request

• label (string, Required, ≥1 character, ≤150 characters)  
• name (string, Required, ≥1 character, ≤150 characters)  
• indexing_config (object, Required)  
• status ("ACTIVE" or "ARCHIVED", Optional)  
• environment (enum, Optional)  
• copy_documents_from_index_id (string, Optional)

### Response

• id (string)  
• created (datetime)  
• label (string, ≤150 characters)  
• name (string, ≤150 characters)  
• indexing_config (object)  
• status ("ACTIVE" or "ARCHIVED", Optional)  
• environment (enum, Optional)

Example cURL:

```bash
curl -X POST https://api.vellum.ai/v1/document-indexes \
     -H "X_API_KEY: <apiKey>" \
     -H "Content-Type: application/json" \
     -d '{
       "label": "My Document Index",
       "name": "my-document-index",
       "indexing_config": {
         "vectorizer": {
           "model_name": "text-multilingual-embedding-002",
           "config": {
             "project_id": "project_id",
             "region": "region"
           }
         },
         "chunking": {
           "chunker_name": "token-overlapping-window-chunker"
         }
       }
     }'
```

---

## Retrieve Document Index (Beta)

GET  
<https://api.vellum.ai/v1/document-indexes/:id>

Used to retrieve a Document Index by ID or name.

### Path parameters

• id (string, Required)

### Response

• id (string)  
• created (datetime)  
• label (string, ≤150 characters)  
• name (string, ≤150 characters)  
• indexing_config (object)  
• status ("ACTIVE" or "ARCHIVED", Optional)  
• environment (enum, Optional)

---

## List Document Indexes (Beta)

GET  
<https://api.vellum.ai/v1/document-indexes>

Used to retrieve a list of Document Indexes.

### Query parameters

• limit (integer, Optional)  
• offset (integer, Optional)  
• ordering (string, Optional)  
• search (string, Optional)  
• status ("ACTIVE" or "ARCHIVED", Optional)

### Response

• count (integer, Optional)  
• next (string, Optional)  
• previous (string, Optional)  
• results (list of objects, Optional)

---

## Update Document Index (Beta)

PATCH  
<https://api.vellum.ai/v1/document-indexes/:id>

Used to partially update a Document Index by ID or name.

### Path parameters

• id (string, Required)

### Request

• label (string, Optional, ≥1 character, ≤150 characters)  
• status ("ACTIVE" or "ARCHIVED", Optional)  
• environment (enum, Optional)

### Response

• id (string)  
• created (datetime)  
• label (string, ≤150 characters)  
• name (string, ≤150 characters)  
• indexing_config (object)  
• status ("ACTIVE" or "ARCHIVED", Optional)  
• environment (enum, Optional)

---

## Replace Document Index (Beta)

PUT  
<https://api.vellum.ai/v1/document-indexes/:id>

Used to fully update a Document Index by ID or name.

### Path parameters

• id (string, Required)

### Request

• label (string, Required, ≥1 character, ≤150 characters)  
• status ("ACTIVE" or "ARCHIVED", Optional)  
• environment (enum, Optional)

### Response

• id (string)  
• created (datetime)  
• label (string, ≤150 characters)  
• name (string, ≤150 characters)  
• indexing_config (object)  
• status ("ACTIVE" or "ARCHIVED", Optional)  
• environment (enum, Optional)

---

## Destroy Document Index (Beta)

DELETE  
<https://documents.vellum.ai/v1/document-indexes/:id>

Used to delete a Document Index by ID or name.

### Path parameters

• id (string, Required)

---

## Remove Document (Beta)

DELETE  
<https://documents.vellum.ai/v1/document-indexes/:id/documents/:document_id>

Removes a Document from a Document Index without deleting the Document itself.

### Path parameters

• document_id (string, Required)  
• id (string, Required)

---

# Client SDK → Documents

## Upload Document (GA)

POST  
<https://documents.vellum.ai/v1/upload-document>

Upload a document to be indexed and used for search. Uses a base url of <https://documents.vellum.ai>.

### Request

Expects multipart/form-data.

• add_to_index_names (list of strings, Optional)  
• external_id (string, Optional, ≥1 character, ≤1000 characters)  
• label (string, Required, ≥1 character, ≤1000 characters)  
• contents (file, Required)  
• keywords (list of strings, Optional)  
• metadata (string, Optional)

### Response

• document_id (string)

---

## Retrieve Document (Beta)

GET  
<https://api.vellum.ai/v1/documents/:id>

Retrieve a Document by ID or external ID.

### Path parameters

• id (string, Required)

### Response

• id (string)  
• last_uploaded_at (datetime)  
• label (string, ≤1000 characters)  
• processing_state (enum)  
• document_to_document_indexes (list of objects)  
• external_id (string, Optional, ≤1000 characters)  
• status ("ACTIVE", Optional)  
• original_file_url (string, Optional)  
• processed_file_url (string, Optional)  
• metadata (map from strings to any, Optional)

---

## List Documents (GA)

GET  
<https://api.vellum.ai/v1/documents>

Used to list documents, optionally filter on supported fields.

### Query parameters

• document_index_id (string, Optional)  
• limit (integer, Optional)  
• offset (integer, Optional)  
• ordering (string, Optional)

### Response

• count (integer, Optional)  
• next (string, Optional)  
• previous (string, Optional)  
• results (list of objects, Optional)

Example cURL:

```bash
curl https://api.vellum.ai/v1/documents \
     -H "X_API_KEY: <apiKey>"
```

Response example:

```json
{
  "count": 123,
  "next": "http://api.example.org/accounts/?offset=400&limit=100",
  "previous": "...",
  "results": [
    {
      "id": "id",
      "last_uploaded_at": "2024-01-15T09:30:00Z",
      "label": "label",
      "processing_state": "QUEUED",
      "document_to_document_indexes": [
        {
          "id": "id",
          "document_index_id": "document_index_id"
        }
      ],
      "external_id": "external_id",
      "processing_failure_reason": "EXCEEDED_CHARACTER_LIMIT",
      "status": "ACTIVE",
      "keywords": ["keywords"],
      "metadata": {
        "key": "value"
      }
    }
  ]
}
```

---

## Update Document (Beta)

PATCH  
<https://api.vellum.ai/v1/documents/:id>

Update a Document by ID or external ID.

### Path parameters

• id (string, Required)

### Request

• label (string, Optional, ≥1 character, ≤1000 characters)  
• status ("ACTIVE", Optional)  
• metadata (map from strings to any, Optional)

### Response

• id (string)  
• last_uploaded_at (datetime)  
• label (string, ≤1000 characters)  
• processing_state (enum)  
• document_to_document_indexes (list of objects)  
• external_id (string, Optional, ≤1000 characters)  
• status ("ACTIVE", Optional)  
• original_file_url (string, Optional)  
• processed_file_url (string, Optional)  
• metadata (map from strings to any, Optional)

---

## Destroy Document (Beta)

DELETE  
<https://documents.vellum.ai/v1/documents/:id>

Delete a Document by ID or external ID.

### Path parameters

• id (string, Required)

---

# Client SDK → Test Suites

## Test Cases → List Test Cases (Beta)

GET  
<https://api.vellum.ai/v1/test-suites/:id/test-cases>

List the Test Cases associated with a Test Suite.

### Path parameters

• id (string, Required)

### Query parameters

• limit (integer, Optional)  
• offset (integer, Optional)

### Response

• count (integer)  
• results (list of objects)  
• next (string, Optional)  
• previous (string, Optional)

---

## Test Cases → Upsert Test Cases (Beta)

POST  
<https://api.vellum.ai/v1/test-suites/:id/test-cases>

Upserts a new test case for a test suite, keying off of an optionally provided test case id.

### Path parameters

• id (string, Required)

### Request

• input_values (list of objects, Required)  
• evaluation_values (list of objects, Required)  
• id (string, Optional)  
• external_id (string, Optional, ≥1 character)  
• label (string, Optional)

### Response

• input_values (list of objects)  
• evaluation_values (list of objects)  
• id (string, Optional)  
• external_id (string, Optional)  
• label (string, Optional)

---

## Test Cases → Bulk Update Test Cases (Beta)

POST  
<https://api.vellum.ai/v1/test-suites/:id/test-cases-bulk>

Create, replace, and delete Test Cases in bulk.

### Path parameters

• id (string, Required)

### Request

Expects a list of objects, each one representing a bulk operation of type Create, Replace, Upsert, or Delete.

### Response

• Created, Replaced, Deleted, or Rejected results, depending on the operation.

---

## Test Cases → Delete Test Case (Beta)

DELETE  
<https://api.vellum.ai/v1/test-suites/:id/test-cases/:test_case_id>

Deletes an existing test case for a test suite.

### Path parameters

• id (string, Required)  
• test_case_id (string, Required)

---

## Test Suite Runs → Create Test Suite Run (Beta)

POST  
<https://api.vellum.ai/v1/test-suite-runs>

Trigger a Test Suite and create a new Test Suite Run.

### Request

• exec_config (object, Required)  
• test_suite_id (string, Optional)  
• test_suite_name (string, Optional, ≥1 character)

### Response

• id (string)  
• created (datetime)  
• test_suite (object)  
• state (enum)  
• exec_config (object, Optional)

Example cURL:

```bash
curl -X POST https://api.vellum.ai/v1/test-suite-runs \
     -H "X_API_KEY: <apiKey>" \
     -H "Content-Type: application/json" \
     -d '{
       "exec_config": {
         "type": "EXTERNAL",
         "data": {
           "executions": [
             {
               "outputs": [
                 {
                   "type": "ARRAY",
                   "name": "outputs"
                 }
               ],
               "test_case_id": "test_case_id"
             }
           ]
         }
       }
     }'
```

---

## Test Suite Runs → Retrieve Test Suite Run (Beta)

GET  
<https://api.vellum.ai/v1/test-suite-runs/:id>

Retrieve a specific Test Suite Run by ID.

### Path parameters

• id (string, Required)

### Response

• id (string)  
• created (datetime)  
• test_suite (object)  
• state (enum)  
• exec_config (object, Optional)

---

## Test Suite Runs → List Test Suite Executions (Beta)

GET  
<https://api.vellum.ai/v1/test-suite-runs/:id/executions>

### Path parameters

• id (string, Required)

### Query parameters

• expand (string, Optional)  
• limit (integer, Optional)  
• offset (integer, Optional)

### Response

• count (integer)  
• results (list of objects)  
• next (string, Optional)  
• previous (string, Optional)

---

# Client SDK → Folders

## Add Entity to Folder (Beta)

POST  
<https://api.vellum.ai/v1/folders/:folder_id/add-entity>

Adds an entity to a specific folder or root directory, removing it from any other folder it was in.

### Path parameters

• folder_id (string, Required)

### Request

• entity_id (string, Required)

---

## List Folder Entities (Beta)

GET  
<https://api.vellum.ai/v1/folder-entities>

List all folder entities within a specified folder.

### Query parameters

• entity_status ("ACTIVE" or "ARCHIVED", Optional)  
• limit (integer, Optional)  
• offset (integer, Optional)  
• ordering (string, Optional)  
• parent_folder_id (string, Required)

### Response

• count (integer, Optional)  
• next (string, Optional)  
• previous (string, Optional)  
• results (list of objects, Optional)

Example cURL:

```bash
curl -G https://api.vellum.ai/v1/folder-entities \
     -d parent_folder_id=parent_folder_id
```

---

# Client SDK → Secrets

## Retrieve Workspace Secret (Beta)

GET  
<https://api.vellum.ai/v1/workspace-secrets/:id>

Used to retrieve a Workspace Secret by ID or name.

### Path parameters

• id (string, Required)

### Response

• id (string)  
• modified (datetime)  
• name (string, ≤250 characters)  
• label (string)  
• secret_type (enum)

Example cURL:

```bash
curl https://api.vellum.ai/v1/workspace-secrets/id \
     -H "X_API_KEY: <apiKey>"
```

---

## Update Workspace Secret (Beta)

PATCH  
<https://api.vellum.ai/v1/workspace-secrets/:id>

Used to update a Workspace Secret.

### Path parameters

• id (string, Required)

### Request

• label (string, Optional, ≥1 character)  
• value (string, Optional, ≥1 character)

### Response

• id (string)  
• modified (datetime)  
• name (string, ≤250 characters)  
• label (string)  
• secret_type (enum)

Example cURL:

```bash
curl -X PATCH https://api.vellum.ai/v1/workspace-secrets/id \
     -H "X_API_KEY: <apiKey>" \
     -H "Content-Type: application/json" \
     -d '{}'
```
